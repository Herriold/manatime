"use strict";(self.webpackChunkManatime=self.webpackChunkManatime||[]).push([[285],{5977:function(e,r,n){n.d(r,{Z:function(){return a}});var i=n(1413),t=n(45987),o=n(87087),d=n(64554),l=n(80184),s=["ratio","disabledEffect","effect","sx"];function a(e){var r=e.ratio,n=e.disabledEffect,a=void 0!==n&&n,u=e.effect,h=void 0===u?"blur":u,x=e.sx,p=(0,t.Z)(e,s);return r?(0,l.jsx)(d.Z,{component:"span",sx:(0,i.Z)({width:1,lineHeight:0,display:"block",overflow:"hidden",position:"relative",pt:c(r),"& .wrapper":{top:0,left:0,right:0,bottom:0,lineHeight:0,position:"absolute",backgroundSize:"cover !important"}},x),children:(0,l.jsx)(d.Z,(0,i.Z)({component:o.LazyLoadImage,wrapperClassName:"wrapper",effect:a?void 0:h,placeholderSrc:"",sx:{width:1,height:1,objectFit:"cover"}},p))}):(0,l.jsx)(d.Z,{component:"span",sx:(0,i.Z)({lineHeight:0,display:"block",overflow:"hidden","& .wrapper":{width:1,height:1,backgroundSize:"cover !important"}},x),children:(0,l.jsx)(d.Z,(0,i.Z)({component:o.LazyLoadImage,wrapperClassName:"wrapper",effect:a?void 0:h,placeholderSrc:"",sx:{width:1,height:1,objectFit:"cover"}},p))})}function c(){return{"4/3":"calc(100% / 4 * 3)","3/4":"calc(100% / 3 * 4)","6/4":"calc(100% / 6 * 4)","4/6":"calc(100% / 4 * 6)","16/9":"calc(100% / 16 * 9)","9/16":"calc(100% / 9 * 16)","21/9":"calc(100% / 21 * 9)","9/21":"calc(100% / 9 * 21)","1/1":"100%"}[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1/1"]}},25212:function(e,r,n){var i=n(1413),t=n(45987),o=n(64554),d=n(72791),l=n(6907),s=n(80184),a=["children","title","meta"],c=(0,d.forwardRef)((function(e,r){var n=e.children,d=e.title,c=void 0===d?"":d,u=e.meta,h=(0,t.Z)(e,a);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.ql,{children:[(0,s.jsx)("title",{children:"".concat(c," | Manatime 1.0")}),u]}),(0,s.jsx)(o.Z,(0,i.Z)((0,i.Z)({ref:r},h),{},{children:n}))]})}));r.Z=c},37835:function(e,r,n){var i=n(1413),t=n(64554),o=(n(72791),n(80184));r.Z=function(e){var r=e.src,n=e.sx,d=e.component,l=void 0===d?"span":d;return(0,o.jsx)(t.Z,{component:l,sx:(0,i.Z)({WebkitMask:"url(".concat(r,") no-repeat center / contain"),bgcolor:"currentColor",display:"inline-block",height:24,mask:"url(".concat(r,") no-repeat center / contain"),width:24},n)})}},285:function(e,r,n){n.r(r),n.d(r,{default:function(){return de}});var i=n(29439),t=n(89164),o=n(36151),d=n(72791),l=n(25212),s=n(37835),a=n(50225),c=n(13400),u=n(29818),h=n(53026),x=n(74165),p=n(93433),f=n(15861),Z=n(57621),m=n(36314),j=n(20890),b=n(61889),v=n(64554),g=n(54261),S=n(1413),C=n(61134),k=n(80184);function w(e){var r=e.children,n=e.onSubmit,i=e.methods;return(0,k.jsx)(C.RV,(0,S.Z)((0,S.Z)({},i),{},{children:(0,k.jsx)("form",{onSubmit:n,children:r})}))}var y=n(44695),F=n(62797),q=n(96463),I=n(45987),M=n(9698),P=["name"];function R(e){var r=e.name,n=(0,I.Z)(e,P),i=(0,C.Gc)().control;return(0,k.jsx)(C.Qr,{name:r,control:i,render:function(e){var r=e.field,i=e.fieldState.error;return(0,k.jsx)(M.Z,(0,S.Z)((0,S.Z)({},r),{},{fullWidth:!0,error:!!i,helperText:null===i||void 0===i?void 0:i.message,InputProps:{sx:{borderRadius:"4px",border:"1px solid initial",boxShadow:"0px 19px 43px rgba(0, 0, 0, 0.05)","&.MuiOutlinedInput-root":{"& fieldset":{borderColor:"initial"},"&:hover fieldset":{borderColor:"#0569C2"},"&.Mui-focused fieldset":{borderColor:"#0569C2"}}}}},n))}})}var D=n(62065),W=["name","children","onChange"];function z(e){var r=e.name,n=e.children,i=(e.onChange,(0,I.Z)(e,W)),t=(0,C.Gc)().control;return(0,k.jsx)(C.Qr,{name:r,control:t,render:function(e){var r=e.field,t=e.fieldState.error;return(0,k.jsx)(M.Z,(0,S.Z)((0,S.Z)((0,S.Z)({},r),{},{select:!0,fullWidth:!0,SelectProps:{native:!0},error:!!t,helperText:null===t||void 0===t?void 0:t.message},i),{},{InputProps:{sx:{borderRadius:"5px","&.Mui-focused":{color:"black"},"&.MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"black"}}}},children:n}))}})}var E=n(76501),L=n(20826),_=function(){return(0,d.useContext)(L.Y)},A=function(e){var r=e.onClose,n=(0,D.Ds)().enqueueSnackbar,i=_(),t=i.soldState.sold,d=i.soldDispatch,l=F.Ry().shape({user:F.Z_().required("Champ requis"),category:F.Z_().required("Champ requis"),period:F.Z_().required("Champ requis"),curSold:F.Z_().required("Champ requis"),takenSold:F.Z_().required("Champ requis"),futurSold:F.Z_().required("Champ requis")}),s=(0,C.cI)({resolver:(0,y.X)(l),defaultValues:{user:"",category:"",period:"",curSold:"",takenSold:"",futurSold:""}}),a=s.handleSubmit,c=s.reset,u=s.formState.isSubmitting,h=function(){var e=(0,f.Z)((0,x.Z)().mark((function e(i){var o,l,s,a,u,h,f,Z;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=i.user,l=i.category,s=i.period,a=i.curSold,u=i.takenSold,h=i.futurSold,f={id:(0,g.Z)(),userId:o,category:l,period:s,curSold:a,takenSold:u,futurSold:h},Z=[].concat((0,p.Z)(t),[f]),d({payload:Z,type:"setSold"}),n("Nouveau SOLDE a \xe9t\xe9 ajout\xe9 !"),r(),c();case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,k.jsx)(w,{methods:s,onSubmit:a(h),children:(0,k.jsx)(Z.Z,{sx:{p:5,maxWidth:600},children:(0,k.jsxs)(m.Z,{spacing:3,alignItems:"center",children:[(0,k.jsx)(j.Z,{fontSize:32,children:"Nouveau SOLDE"}),(0,k.jsxs)(b.ZP,{container:!0,spacing:1,children:[(0,k.jsx)(b.ZP,{item:!0,xs:4,children:(0,k.jsx)(v.Z,{sx:{mb:1,width:"100%"},children:(0,k.jsxs)(z,{name:"user",label:"Utilisateur",children:[(0,k.jsx)("option",{value:""}),E.hM.map((function(e){return(0,k.jsx)("option",{value:e.id,children:e.name},e.id)}))]})})}),(0,k.jsx)(b.ZP,{item:!0,xs:4,children:(0,k.jsx)(R,{name:"category",label:"Categorie*"})}),(0,k.jsx)(b.ZP,{item:!0,xs:4,children:(0,k.jsx)(R,{name:"period",label:"P\xe9riode*"})}),(0,k.jsx)(b.ZP,{item:!0,xs:4,children:(0,k.jsx)(R,{name:"curSold",label:"Solde actuel*"})}),(0,k.jsx)(b.ZP,{item:!0,xs:4,children:(0,k.jsx)(R,{name:"takenSold",label:"Solde pris*"})}),(0,k.jsx)(b.ZP,{item:!0,xs:4,children:(0,k.jsx)(R,{name:"futurSold",label:"Solde futur*"})})]}),(0,k.jsxs)(m.Z,{sx:{display:"flex",flexDirection:"row",gap:5,pt:3},children:[(0,k.jsx)(o.Z,{onClick:r,variant:"outlined",sx:{width:120,py:1,borderRadius:.5,borderColor:"#BFCCD4",color:"#094694","&:hover":{borderColor:"#094694"}},children:"Annuler"}),(0,k.jsx)(q.Z,{type:"submit",variant:"contained",size:"large",loading:u,sx:{width:150,py:1,borderRadius:.5,backgroundColor:"#0090F5","&:hover":{backgroundColor:"#094694"}},children:"Enregistrer"})]})]})})})},N=(0,a.Z)(c.Z)({position:"absolute",top:5,right:5}),O=function(e){var r=e.onClose,n=e.open;return(0,k.jsxs)(u.Z,{fullWidth:!0,open:n,position:"relative",maxWidth:"sm",children:[(0,k.jsx)(N,{onClick:r,children:(0,k.jsx)(h.Z,{icon:"ep:close-bold",size:"xl"})}),(0,k.jsx)(A,{onClose:r})]})},B=n(4942),H=n(68745),T=n(90618),G=n(35855),Q=n(39281),V=n(79836),Y=n(53382),U=n(26098),X=n.n(U);function J(e){return X()(e).format("0.00a").replace(".00","")}var K=n(56890),$=n(80720),ee={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function re(e){var r=e.order,n=e.orderBy,i=e.headLabel,t=e.onRequestSort;return(0,k.jsx)(K.Z,{children:(0,k.jsx)(G.Z,{children:i.map((function(e){return(0,k.jsx)(H.Z,{align:e.alignRight?"right":"left",sortDirection:n===e.id&&r,children:(0,k.jsxs)($.Z,{hideSortIcon:!0,active:n===e.id,direction:n===e.id?r:"asc",onClick:(i=e.id,function(e){t(e,i)}),children:[e.label,n===e.id?(0,k.jsx)(v.Z,{sx:(0,S.Z)({},ee),children:"desc"===r?"sorted descending":"sorted ascending"}):null]})},e.id);var i}))})})}var ne=n(5977),ie=(0,a.Z)(H.Z)((function(e){var r;e.theme;return r={},(0,B.Z)(r,"&.".concat(T.Z.head),{backgroundColor:"#000"}),(0,B.Z)(r,"&.".concat(T.Z.body),{fontSize:16}),r})),te=(0,a.Z)(G.Z)((function(e){e.theme;return{"&:nth-of-type(odd)":{backgroundColor:"#F2F2F2"},"&:last-child td, &:last-child th":{border:0}}}));function oe(){var e=_(),r=e.soldState.sold,n=e.soldDispatch;return(0,k.jsx)(l.Z,{title:"Absence",children:(0,k.jsx)(t.Z,{maxWidth:"xl",children:(0,k.jsx)(m.Z,{sx:{backgroundColor:"#FFFFFF"},children:(0,k.jsx)(Q.Z,{sx:{minWidth:800},children:(0,k.jsxs)(V.Z,{children:[(0,k.jsx)(re,{headLabel:E.Y1}),(0,k.jsx)(Y.Z,{children:r&&r.map((function(e){var i=e.id,t=e.userId,o=e.category,d=e.period,l=e.curSold,s=e.takenSold,a=e.futurSold,u=E.hM.find((function(e){return e.id===t})).name;return(0,k.jsxs)(te,{tabIndex:-1,role:"checkbox",children:[(0,k.jsx)(ie,{children:u}),(0,k.jsx)(ie,{children:o}),(0,k.jsx)(ie,{children:d}),(0,k.jsx)(ie,{children:J(l)}),(0,k.jsx)(ie,{children:J(s)}),(0,k.jsx)(ie,{children:J(a)}),(0,k.jsxs)(ie,{sx:{padding:1,width:150},children:[(0,k.jsx)(c.Z,{children:(0,k.jsx)(ne.Z,{disabledEffect:!0,src:"./assets/Ajuster.svg",sx:{width:28,height:28}})}),(0,k.jsx)(c.Z,{children:(0,k.jsx)(ne.Z,{disabledEffect:!0,src:"./assets/Transferer.svg",sx:{width:28,height:28}})}),(0,k.jsx)(c.Z,{onClick:function(){return function(e){n({payload:r.filter((function(r){return r.id!==e})),type:"setSold"})}(i)},children:(0,k.jsx)(ne.Z,{disabledEffect:!0,src:"./assets/Solder.svg",sx:{width:28,height:28}})})]})]},i)}))})]})})})})})}function de(){var e=(0,d.useState)(!1),r=(0,i.Z)(e,2),n=r[0],a=r[1];return(0,k.jsxs)(l.Z,{title:"Absence",children:[(0,k.jsxs)(t.Z,{maxWidth:"xl",sx:{display:"flex",flexDirection:"column",mt:2},children:[(0,k.jsx)(o.Z,{sx:{px:3,alignSelf:"flex-end",marginRight:2.5,marginBottom:2.5},variant:"contained",onClick:function(){return a(!n)},endIcon:(0,k.jsx)(s.Z,{src:"./assets/Add.svg",sx:{height:18,width:18,color:"#FFFFFF"}}),children:"Nouveau Solde"}),(0,k.jsx)(oe,{})]}),(0,k.jsx)(O,{open:n,onClose:function(){return a(!n)}})]})}}}]);
//# sourceMappingURL=285.52a3e643.chunk.js.map